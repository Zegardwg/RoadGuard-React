<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + React</title>
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <link rel="shortcut icon" href="src/assets/images/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="src/assets/css/swiper-bundle.min.css" />
    <link rel="stylesheet" href="src/assets/css/animate.css" />
    <link rel="stylesheet" href="src/assets/css/tailwind.css" />
  </head>
  <body>
    <div id="root"></div>

    <!-- Main React Script -->
    <script type="module" src="/src/main.jsx"></script>

    <!-- WOW JS for Animations -->
    <script src="src/assets/js/wow.min.js" defer></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        new WOW().init();
      });
    </script>

    <!-- Swiper and Custom JS -->
    <script src="src/assets/js/swiper-bundle.min.js" defer></script>
    <script src="src/assets/js/main.js" defer></script>
    <script>
      // Smooth Scroll for Menu Links
      document.addEventListener("DOMContentLoaded", () => {
        const pageLinks = document.querySelectorAll(".ud-menu-scroll");

        pageLinks.forEach((link) => {
          link.addEventListener("click", (e) => {
            e.preventDefault();
            const target = document.querySelector(link.getAttribute("href"));
            target.scrollIntoView({ behavior: "smooth", block: "start" });
          });
        });
      });

      // Section Menu Active on Scroll
      function onScroll() {
        const sections = document.querySelectorAll(".ud-menu-scroll");
        const scrollPos = window.pageYOffset || document.documentElement.scrollTop;

        sections.forEach((section) => {
          const sectionId = section.getAttribute("href");
          const refElement = document.querySelector(sectionId);

          if (
            refElement.offsetTop <= scrollPos + 73 &&
            refElement.offsetTop + refElement.offsetHeight > scrollPos + 73
          ) {
            document.querySelector(".ud-menu-scroll.active")?.classList.remove("active");
            section.classList.add("active");
          }
        });
      }

      document.addEventListener("scroll", onScroll);

      // Initialize Swiper for Testimonials
      document.addEventListener("DOMContentLoaded", () => {
        new Swiper(".testimonial-carousel", {
          slidesPerView: 1,
          spaceBetween: 30,
          navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
          },
          breakpoints: {
            640: { slidesPerView: 2, spaceBetween: 30 },
            1024: { slidesPerView: 3, spaceBetween: 30 },
            1280: { slidesPerView: 3, spaceBetween: 30 },
          },
        });
      });
    </script>
  </body>
</html>
